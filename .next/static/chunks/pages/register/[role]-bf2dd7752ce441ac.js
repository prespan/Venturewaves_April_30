(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[925],{9711:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register/[role]",function(){return t(8870)}])},8870:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return l}});var n=t(5893),r=t(1163),s=t(7294);function o(e){let{data:a}=e,[t,r]=(0,s.useState)({name:a.name||"",website:a.website||"",address:a.address||"",industryTags:(a.industryTags||[]).join(", "),description:a.description||"",notableProducts:(a.notableProducts||[]).join(", "),logo:a.logo||""}),o=e=>{let{name:a,value:t}=e.target;r(e=>({...e,[a]:t}))};return(0,n.jsxs)("div",{className:"w-full space-y-4",children:[(0,n.jsx)("input",{name:"name",placeholder:"Company Name",value:t.name,onChange:o,className:"w-full border p-2 rounded",required:!0}),(0,n.jsx)("input",{name:"website",placeholder:"Website",value:t.website,onChange:o,className:"w-full border p-2 rounded"}),(0,n.jsx)("input",{name:"address",placeholder:"Address",value:t.address,onChange:o,className:"w-full border p-2 rounded"}),(0,n.jsx)("textarea",{name:"industryTags",placeholder:"Industry Tags (e.g. Mobility, Energy)",value:t.industryTags,onChange:o,className:"w-full border p-2 rounded"}),(0,n.jsx)("textarea",{name:"description",placeholder:"Description",value:t.description,onChange:o,className:"w-full border p-2 rounded"}),(0,n.jsx)("textarea",{name:"notableProducts",placeholder:"Notable Products (e.g. Smart Grid, Urban Mobility)",value:t.notableProducts,onChange:o,className:"w-full border p-2 rounded"}),(0,n.jsx)("input",{name:"logo",placeholder:"Logo URL",value:t.logo,onChange:o,className:"w-full border p-2 rounded"})]})}function l(){let e=(0,r.useRouter)(),{role:a}=e.query,[t,l]=(0,s.useState)(null),[d,i]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{a&&"string"==typeof a&&(async()=>{try{let e=await fetch("/api/register/".concat(a));if(!e.ok)throw Error("Failed to fetch organization");let t=await e.json();t&&l(t)}catch(e){console.error(e)}finally{i(!1)}})()},[a]),d)?(0,n.jsx)("p",{className:"p-8 text-center",children:"Loading organization data..."}):t?(0,n.jsxs)("main",{className:"min-h-screen flex flex-col items-center justify-center p-8",children:[(0,n.jsxs)("h1",{className:"text-2xl font-bold mb-6 capitalize",children:["Register as ",a]}),(0,n.jsxs)("form",{onSubmit:n=>{n.preventDefault(),(null==t?void 0:t.id)&&e.push("/dashboard/".concat(a,"?id=").concat(t.id))},className:"w-full max-w-xl",children:["corporate"===a&&(0,n.jsx)(o,{data:t}),(0,n.jsx)("button",{type:"submit",className:"mt-6 w-full bg-blue-600 text-white font-semibold py-2 rounded hover:bg-blue-700",children:"Register"})]})]}):(0,n.jsx)("p",{className:"p-8 text-center text-red-500",children:"Organization not found."})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=9711)}),_N_E=e.O()}]);