"use strict";(()=>{var r={};r.id=705,r.ids=[705],r.modules={145:r=>{r.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6249:(r,e)=>{Object.defineProperty(e,"l",{enumerable:!0,get:function(){return function r(e,t){return t in e?e[t]:"then"in e&&"function"==typeof e.then?e.then(e=>r(e,t)):"function"==typeof e&&"default"===t?e:void 0}}})},3208:(r,e,t)=>{t.r(e),t.d(e,{config:()=>c,default:()=>u,routeModule:()=>f});var i={};t.r(i),t.d(i,{default:()=>d});var n=t(1802),a=t(7153),o=t(6249),s=t(9102);async function d(r,e){if("GET"!==r.method)return e.status(405).json({error:"Method Not Allowed"});let{role:t,name:i}=r.query;if("string"!=typeof t||!["studio","corporate","government","investor","research"].includes(t))return e.status(400).json({error:"Invalid or missing role"});try{let r=null;switch(t){case"studio":r=i?await s._.studio.findFirst({where:{name:String(i)}}):await s._.studio.findFirst({orderBy:{id:"asc"},skip:Math.floor(3*Math.random())});break;case"corporate":r=i?await s._.corporate.findFirst({where:{name:String(i)}}):await s._.corporate.findFirst({orderBy:{id:"asc"},skip:Math.floor(3*Math.random())});break;case"government":r=i?await s._.government.findFirst({where:{name:String(i)}}):await s._.government.findFirst({orderBy:{id:"asc"},skip:Math.floor(3*Math.random())});break;case"investor":r=i?await s._.investor.findFirst({where:{name:String(i)}}):await s._.investor.findFirst({orderBy:{id:"asc"},skip:Math.floor(3*Math.random())});break;case"research":r=i?await s._.researchOrganization.findFirst({where:{name:String(i)}}):await s._.researchOrganization.findFirst({orderBy:{id:"asc"},skip:Math.floor(3*Math.random())})}if(!r)return e.status(404).json({error:`No ${t} organization found${i?` with name "${i}"`:""}`});return e.status(200).json(r)}catch(r){return console.error(`[API Error] /api/register/${t}:`,r),e.status(500).json({error:"Internal Server Error"})}}let u=(0,o.l)(i,"default"),c=(0,o.l)(i,"config"),f=new n.PagesAPIRouteModule({definition:{kind:a.x.PAGES_API,page:"/api/register/[role]",pathname:"/api/register/[role]",bundlePath:"",filename:""},userland:i})},9102:(r,e,t)=>{t.d(e,{_:()=>i});let i=new(require("@prisma/client")).PrismaClient},7153:(r,e)=>{var t;Object.defineProperty(e,"x",{enumerable:!0,get:function(){return t}}),function(r){r.PAGES="PAGES",r.PAGES_API="PAGES_API",r.APP_PAGE="APP_PAGE",r.APP_ROUTE="APP_ROUTE"}(t||(t={}))},1802:(r,e,t)=>{r.exports=t(145)}};var e=require("../../../webpack-api-runtime.js");e.C(r);var t=e(e.s=3208);module.exports=t})();